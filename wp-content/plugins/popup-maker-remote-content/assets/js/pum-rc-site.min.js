!function(e){pum.hooks.addFilter("pum.trigger.click_open.selectors",function(e,t,r){return"undefined"!=typeof t.rc_post_type_regex&&e.push("a:regex(href,"+t.rc_post_type_regex+")"),e})}(window.jQuery),function(e){void 0===e.expr[":"].external&&(e.expr[":"].external=function(e){return e&&e.href&&!e.href.match(/^mailto:/)&&e.hostname!=document.location.hostname}),void 0===e.expr[":"].internal&&void 0!==e.expr[":"].external&&(e.expr[":"].internal=function(t){return e(t).is(":not(:external)")}),void 0===e.expr[":"].regex&&(e.expr[":"].regex=function(e,t,r){var a=r[3].split(",",1)[0],n=r[3].split(",").slice(1).join(","),o=/^(data|css):/,i={method:a.match(o)?a.split(":")[0]:"attr",property:a.replace(o,"")},s="ig",p=new RegExp(n.replace(/^\s+|\s+$/g,""),s);return p.test(jQuery(e)[i.method](i.property))})}(window.jQuery),function(e){"use strict";e.fn.popmake.rc_user_args={},e(".pum.remote-content").on("pumInit",function(){var t=PUM.getSetting(this,"id");e.fn.popmake.rc_user_args[t]={}}).on("pumBeforeOpen",function(){e(".pum-rc-box",this).each(function(){var t=e(this),r=e(".pum-rc-content-area",t).hide(0),a=e(".pum-loader",t).show(0),n=t.data("settings")||{min_height:"200"};t.css({minHeight:n.min_height+"px"}),a.fadeIn(0).css({height:n.min_height+"px"}),r.fadeOut(0)})}).on("pumAfterOpen",function(){function t(){var e=o,t=!1;return!(o===!1||!o.length)&&(e.is("a[href]")||(e=!!e.find("a[href]").length&&e.find("a[href]")),e&&(t=e.prop("href")),t)}var r=PUM.getPopup(this),a=PUM.getSetting(r,"id"),n=r.popmake("getContainer"),o=!1;try{o=e(e.fn.popmake.last_open_trigger)}catch(i){o=!1}e(".pum-rc-box",this).each(function(){var i=e(this),s=e(".pum-rc-content-area",i),p=e(".pum-loader",i),c=i.data("settings")||{},u=function(){s.fadeIn("slow",function(){i.css({minHeight:"auto"})}),p.fadeOut("slow")};switch(c.method){case"iframe":var m=e(".pum-remote-content-frame iframe",i),h=t(),l=h&&""!==h?h:c.iframe_default_source||"",d=window.innerHeight-(i.offset().top-e(window).scrollTop()+parseInt(n.css("padding-bottom"))+parseInt(n.css("margin-bottom"))+parseInt(n.css("border-bottom-width")));m.off("load.pum_rc").on("load.pum_rc",function(){u(),m.outerHeight()>d?m.css({height:d}):m.outerHeight()<c.min_height?m.css({height:c.min_height}):m.css({height:d})}).addClass("popmake-remote-content").prop("src",l).iFrameResize({scrolling:"auto",minHeight:c.min_height<d?c.min_height:d,maxHeight:d,heightCalculationMethod:"lowestElement"});break;case"load":var h=t();h&&""!==h&&s.load(h+(c.load_css_selector&&""!==c.load_css_selector?" "+c.load_css_selector:""),u);break;case"posts":r.trigger("pumRcBeforePostsAjax");var g=e.extend({},{action:"pum_rc",method:"posts",popup_id:a,url:t(),postID:null},pum.hooks.applyFilters("pum.rc.posts_ajax_args",{},o,i,r));e.ajax({method:"POST",dataType:"json",url:pum_vars.ajaxurl,data:g}).done(function(e){var t=i.find("script.pum-rc-content-template").html(),r=e.postdata||{},a=new RegExp("{"+Object.keys(r).join("}|{")+"}","gi");e.success?(t=t.replace(a,function(e){return e=e.replace("{","").replace("}",""),r[e]}),s.html(t)):s.html("<p>An error occurred or no data was returned by the server. Please try again.</p>")}).fail(function(){s.html("<p>An error occurred or no data was returned by the server. Please try again.</p>")}).always(u);break;case"ajax":r.trigger("pumRcBeforeAjax"),n.trigger("popmakeRcBeforeAjax");var g=e.extend({},{action:"pum_rc",popup_id:a,method:"ajax",function_name:c.ajax_function_name||"",url:t()},pum.hooks.applyFilters("pum.rc.ajax_args",e.fn.popmake.rc_user_args[a],o,i,r));e.ajax({method:"POST",dataType:"json",url:pum_vars.ajaxurl,data:g}).done(function(e){s.html(e.content)}).fail(function(){s.html("<p>An error occurred or no data was returned by the server. Please try again.</p>")}).always(u)}})})}(window.jQuery);